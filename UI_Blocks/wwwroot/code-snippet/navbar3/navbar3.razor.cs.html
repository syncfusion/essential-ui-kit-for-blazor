using Microsoft.JSInterop;
using Syncfusion.Blazor.SplitButtons;

namespace UI_Blocks.Components.Pages.BlocksSection.NavBar.NavBar3
{
    public partial class NavBar3
    {
        private SfDropDownButton? StateDropdown;
        private SfDropDownButton? AddressDropdown;

        private bool _isStateDropdownOpen = false;
        private bool _isAddressDropdownOpen = false;

        private void OnStateDropdownOpened() => _isStateDropdownOpen = true;

        private void OnStateDropdownClosed() => _isStateDropdownOpen = false;

        private void OnAddressDropdownOpened() => _isAddressDropdownOpen = true;

        private void OnAddressDropdownClosed() => _isAddressDropdownOpen = false;

        [JSInvokable]
        public void ResizeHandler(string message, int windowWidth)
        {
            if (message == "resizeAction")
            {
                if (_isStateDropdownOpen && StateDropdown != null)
                {
                    StateDropdown.Toggle();
                }

                if (_isAddressDropdownOpen && AddressDropdown != null)
                {
                    AddressDropdown.Toggle();
                }
            }
        }
    }
}
